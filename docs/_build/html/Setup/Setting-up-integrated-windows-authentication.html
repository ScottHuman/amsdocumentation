<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Setting up JIT access" href="Setting-up-JIT-access.html" /><link rel="prev" title="Setting up Bitlocker access" href="Setting-up-BitLocker-access.html" />

    <meta name="generator" content="sphinx-4.1.1, furo 2021.07.05.beta38"/>
        <title>Setting up integrated windows authentication - Access Manager documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css" />
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Access Manager  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Access Manager  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Setup:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Setting-up-authentication-with-ADFS.html">Setting up authentication with ADFS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setting-up-authentication-with-Azure-AD.html">Setting up authentication with Azure AD</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setting-up-authentication-with-Okta.html">Setting up authentication with Okta</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setting-up-BitLocker-access.html">Setting up Bitlocker access</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Setting up integrated windows authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setting-up-JIT-access.html">Setting up JIT access</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setting-up-Microsoft-LAPS.html">Setting up Microsoft LAPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Setting-up-password-encryption-and-history.html">Setting up password encryption and history</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Testing:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Test/test.html">Test file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Test/Web-Hosting-Page.html">Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Test/Web-Hosting-Page.html#tls-ssl-certificate">TLS/SSL Certificate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Test/Web-Hosting-Page.html#web-host">Web host</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="setting-up-integrated-windows-authentication">
<h1>Setting up integrated windows authentication<a class="headerlink" href="#setting-up-integrated-windows-authentication" title="Permalink to this headline">¶</a></h1>
<p>The following guide will assist you in configuring your application to use Integrated Windows Authentication (IWA).</p>
<p>Note, that we recommend that you use a strong authentication mechanism such as OpenID Connect, where you have the ability to enforce multi-factor authentication on users attempting to access your application. Access Manager fully supports modern OIDC providers such as [[Azure AD|Setting up authentication with Azure AD]] and [[Okta|Setting up authentication with Okta]].</p>
<p>## Part 1: Configure the SPN
Lithnet Access Manager uses kernel-mode authentication, which means the computer account, rather than the service account is used to authenticate the client. This means that the Kerberos service principal name must be applied to the computer account, rather than the service account.</p>
<p>If your web url hostname is different to your machines AD hostname, then you’ll need to register an SPN for this hostname.</p>
<p>Run the following command to set the SPN. Replace {dnsName} with the hostname web clients will use to access the service and {computerNetBIOSName} with the AD computer name</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">setspn</span> <span class="pre">-s</span> <span class="pre">HTTP/{dnsName}</span> <span class="pre">{computerNetBIOSName}</span>
<span class="pre">`</span></code></p>
<p>For a website called <cite>accessmanager.lithnet.local</cite> running on computer <cite>AMSWEB01</cite>, the command would be</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">setspn</span> <span class="pre">-s</span> <span class="pre">HTTP/accessmanager.lithnet.local</span> <span class="pre">AMSWEB01</span>
<span class="pre">`</span></code></p>
<p>## Part 2: Configure Lithnet Access Manager
![](images/ui-page-authentication-iwa.png)</p>
<ol class="arabic simple">
<li><p>Select <cite>Integrated windows authentication</cite> as the authentication provider</p></li>
<li><p>Select <cite>Negotiate</cite> for the authentication scheme.</p></li>
</ol>
<p>&gt; Note: Use of NTLM and basic auth is not recommended and are provided for testing purposes only.</p>
<p>To restrict clients to the use of Kerberos only, disable incoming NTLM authentication for the server using [group policy](<a class="reference external" href="https://docs.microsoft.com/en-us/windows/security/threat-protection/security-policy-settings/network-security-restrict-ntlm-incoming-ntlm-traffic">https://docs.microsoft.com/en-us/windows/security/threat-protection/security-policy-settings/network-security-restrict-ntlm-incoming-ntlm-traffic</a>).</p>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="Setting-up-JIT-access.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Setting up JIT access</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="Setting-up-BitLocker-access.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Setting up Bitlocker access</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Scott Human
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/Setup/Setting-up-integrated-windows-authentication.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </main>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/main.js"></script>
    </body>
</html>